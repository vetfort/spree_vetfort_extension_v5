<script type="module">
    // 1) Подтягиваем ESM-модуль извне (версии фиксируй явно!)
  import PubSub from "https://esm.sh/pubsub-js@1.9.4";

  // 2) Кладём зависимости в единую «точку правды»
  window.VetfortDeps ||= {};
  window.VetfortDeps.PubSub = PubSub;

  import ProductImportController from "/assets/spree/admin/spree_vetfort_extension_v5/product_import_controller.js";
  import ProductImportRowController from "/assets/spree/admin/spree_vetfort_extension_v5/product_import_row_controller.js";
  import VetfortNotificationController from "/assets/spree/admin/spree_vetfort_extension_v5/vetfort_notification_controller.js";
  import AiDescriptionController from "/assets/spree/admin/spree_vetfort_extension_v5/ai_description_controller.js";

  window.Stimulus.register("product-import", ProductImportController);
  window.Stimulus.register("product-import-row", ProductImportRowController);
  window.Stimulus.register("vetfort-notification", VetfortNotificationController);
  window.Stimulus.register("ai-description", AiDescriptionController);
</script>
